
	.ORIG X2000
	
; SAVE REGISTERS
	
	ST R0, SAVE01
	ST R1, SAVE11
	ST R2, SAVE21

; READ THE INPUT AND PRINT IT TEN TIMES

	LDI R0, KBDR
	LD R2, TEN
NOT_READY	
	LDI R1, DSR
	BRZP NOT_READY
	STI R0, DDR
	ADD R2, R2, #-1
	BRP NOT_READY
	
	LD R0, SAVE01
	LD R1, SAVE11
	LD R2, SAVE21 

	RTI

SAVE01	.BLKW 1
SAVE11 	.BLKW 1
SAVE21 	.BLKW 1
TEN	.FILL #10
KBDR 	.FILL XFE02
DSR 	.FILL XFE04
DDR	.FILL XFE06


	.END
